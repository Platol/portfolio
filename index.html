<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" href="img/ico.ico">
    <title>Portfolio</title>
    <style>
        body {
            margin: 0 auto;
            position: relative;
        }

        div {
            position: absolute;
            border: 1px solid blue;
            background-color: #fff;
            padding: 10px;
            width: 198px;
            transition: left .8s ease 0s, top .8s ease 0s, box-shadow .4s ease 0s, transform .4s ease 0s;
            border-top-width: 4px;
        }

        div:hover {
            box-shadow: 0px 2px 5px rgba(0, 0, 255, 0.3);
            transform: translateY(-4px);
        }

        h3 {
            margin: 0;
            line-height: 32px;
            padding: 0 10px;
            cursor: default;
            margin-bottom: 10px;
            color: blue;
        }

        ul {
            padding: 0;
            margin: 0;
            list-style: none;
        }

        a {
            text-decoration: none;
            display: block;
            padding: 0 10px;
            color: blue;
            line-height: 32px;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
            transition: background-color .5s ease 0s;
        }

        a:hover {
            background-color: blue;
            color: #fff;
        }
    </style>
</head>

<body>
    <div>
        <h3>图片及展示</h3>
        <ul>
            <li><a href="pages/banner 切换-淡入淡出.html">banner 切换-淡入淡出</a></li>
            <li><a href="pages/banner 切换-左右滑动.html">banner 切换-左右滑动</a></li>
            <li><a href="pages/图片随机滚动.html">图片随机滚动</a></li>
            <li><a href="pages/电商广告循环展示.html">电商广告循环展示</a></li>
            <li><a href="pages/手风琴.html">手风琴</a></li>
        </ul>
    </div>
    <div>
        <h3>内容与功能</h3>
        <ul>
            <li><a href="pages/星级评论.html">星级评论</a></li>
            <li><a href="pages/电商右侧工具条.html">电商右侧工具条</a></li>
            <li><a href="pages/选项卡及列表切换.html">选项卡及列表切换</a></li>
            <li><a href="pages/定时器导航.html">定时器导航</a></li>
            <li><a href="pages/按钮小效果.html">按钮小效果</a></li>
            <li><a href="pages/日期 & 时间.html">日期 & 时间</a></li>
            <li><a href="pages/倒计时.html">倒计时</a></li>
            <li><a href="pages/查找关键字.html">查找关键字</a></li>
            <li><a href="pages/替换关键字.html">替换关键字</a></li>
            <li><a href="pages/文字搬运.html">文字搬运</a></li>
            <li><a href="pages/列表弹出提示.html">列表弹出提示</a></li>
            <li><a href="pages/页面居中弹窗.html">页面居中弹窗</a></li>
        </ul>
    </div>
    <div>
        <h3>表格和表单</h3>
        <ul>
            <li><a href="pages/获取radio、checkbox的选中值.html">获取radio、checkbox的选中值</a></li>
            <li><a href="pages/增、删、隔行变色…….html">增、删、隔行变色……</a></li>
            <li><a href="pages/模拟select单选.html">模拟select单选</a></li>
            <li><a href="pages/模拟select多选（Ctrl键+鼠标左键）.html">模拟select多选（Ctrl键+鼠标左键）</a></li>
        </ul>
    </div>
    <div>
        <h3>页面布局</h3>
        <ul>
            <li><a href="layout/ms">微软[Bootstrap]响应式布局</a></li>
            <li><a href="layout/gh">GitHub[原生]响应式布局</a></li>
            <li><a href="layout/jd">京东布局（未完，待续……）</a></li>
        </ul>
    </div>
    <div>
        <h3>JS深入应用</h3>
        <ul>
            <li><a href="pages/模拟苹果Mac菜单.html">模拟苹果Mac菜单</a></li>
            <li><a href="pages/解决按键移动时的停顿问题.html">解决按键移动时的停顿问题</a></li>
            <li><a href="pages/模拟滚动条-控制高度.html">模拟滚动条-控制高度</a></li>
            <li><a href="pages/模拟滚动条及滚轮事件.html">模拟滚动条及滚轮事件</a></li>
            <li><a href="pages/模拟右键菜单.html">模拟右键菜单</a></li>
            <li><a href="pages/布局转换.html">布局转换</a></li>
            <li><a href="pages/防抖 & 节流.html">防抖 & 节流</a></li>
        </ul>
    </div>
    <div>
        <h3>JS运动</h3>
        <ul>
            <li><a href="pages/弹性运动.html">弹性运动</a></li>
            <li><a href="pages/刚性运动.html">刚性运动</a></li>
            <li><a href="pages/抖一抖.html">抖一抖</a></li>
        </ul>
    </div>
    <div>
        <h3>JS拖拽</h3>
        <ul>
            <li><a href="pages/固定区域内拖拽.html">固定区域内拖拽</a></li>
            <li><a href="pages/拖拽之磁性吸附.html">拖拽之磁性吸附</a></li>
            <li><a href="pages/照片墙-图片换位.html">照片墙-图片换位</a></li>
            <li><a href="pages/鼠标绘制正方形.html">鼠标绘制正方形</a></li>
            <li><a href="pages/拖拽过程回放.html">拖拽过程回放</a></li>
            <li><a href="pages/碰撞检测.html">碰撞检测</a></li>
            <li><a href="pages/拖拽改变大小.html">拖拽改变大小</a></li>
        </ul>
    </div>
    <div>
        <h3>ajax</h3>
        <ul>
            <li><a href="ajax/级联菜单">级联菜单</a></li>
            <li><a href="ajax/瀑布流">瀑布流</a></li>
        </ul>
    </div>
    <div>
        <h3>CSS3动效</h3>
        <ul>
            <li><a href="pages/表盘.html">表盘</a></li>
            <li><a href="pages/扇形菜单.html">扇形菜单</a></li>
        </ul>
    </div>
    <div>
        <h3>小游戏</h3>
        <ul>
            <li><a href="pages/消除QQ表情小游戏.html">消除QQ表情小游戏</a></li>
        </ul>
    </div>
    <div>
        <h3>其他示例</h3>
        <ul>
            <li><a href="pages/纯CSS绘制三角形.html">纯CSS绘制三角形</a></li>
            <li><a href="pages/图片img的onload.html">图片img的onload</a></li>
            <li><a href="pages/V字仇杀.html">V字仇杀</a></li>
            <li><a href="pages/自动生成100个li.html">自动生成100个li</a></li>
            <li><a href="pages/擦出图片.html">擦出图片</a></li>
            <li><a href="pages/模拟表格.html">模拟表格</a></li>
            <li><a href="pages/100个1000以内的随机整数.html">100个1000以内的随机整数</a></li>
        </ul>
    </div>


    <script>
        // 页面中所有 link(a元素)
        var links = document.getElementsByTagName('a');

        for (var i = 0; i < links.length; i++) {
            var link = links[i];

            // link.target = '_blank';
            link.title = links[i].innerHTML;
        }





        document.onselectstart = function () {
            return false;
        }





        /******** 原生js瀑布流实现，完全响应式，兼容至 IE7 ********/


        // 常量
        var CARD_WIDTH = 220,   // card 宽度 220
            CARD_GAP = 20,  // card 间隔 20
            CARD_AREA = CARD_WIDTH + CARD_GAP;  // card 所占区域为二者之和 240

        // 预设保存每列高度的数组
        var colsHeight = [];


        
        // 页面加载时，执行
        waterfall();
        // 窗口尺寸改变时，执行
        window.onresize = throttle(waterfall, 300);


        function waterfall() {
            // 文档宽度
            var docWidth = document.documentElement.clientWidth;
            // 减去其两侧的 padding 20px，得出可用宽度
            var _width = docWidth - CARD_GAP;
            // 计算列数
            var cols = Math.floor(_width / CARD_AREA);

            // 如果列数前后相等，不执行函数
            if (cols == colsHeight.length) return;

            // 给 body 设置 width 和 padding，使其可在页面内水平居中。
            document.body.style.width = cols * CARD_AREA + 'px';
            document.body.style.padding = CARD_GAP / 2 + 'px';

            // 更新列高数组
            colsHeight = new Array(cols);
            // 填充 colsHeight 每一项为 0
            for (var i = 0; i < colsHeight.length; i++) {
                colsHeight[i] = 0;
            }

            // 页面中所有 card(div元素)
            var cards = document.getElementsByTagName('div');

            // 遍历 cards
            for (var i = 0; i < cards.length; i++) {
                var card = cards[i];

                // 找出最小列高
                var minHeight = Math.min.apply(null, colsHeight);
                // 最小列高在列高数组中的索引
                var minIndex;

                // 循环列高数组，更新 minIndex
                for (var j = 0; j < colsHeight.length; j++) {
                    if (minHeight == colsHeight[j]) {
                        minIndex = j;
                        break;
                    }
                }
                card.style.left = minIndex * CARD_AREA + CARD_GAP + 'px';
                card.style.top = minHeight + CARD_GAP + 'px';

                // 更新 card 位置之后，card 所处列的高度随即发生变化
                colsHeight[minIndex] = minHeight + CARD_GAP + card.offsetHeight;
            }

            // 找出最大列高
            var maxHeight = Math.max.apply(null, colsHeight);
            // 给 body 的高度赋值，否则 body 会高度塌陷
            // 其实不设置 body 高度，视觉上也并无不妥，只是更趋完善而已！
            document.body.style.height = maxHeight + 'px';
        }


        // 事件节流，防止事件高频触发！！
        function throttle(fn, delay) {
            var lock = false;

            return function () {
                if (lock) return;

                var that = this,
                    args = arguments;

                lock = true;

                setTimeout(function () {
                    fn.apply(that, args);
                    lock = false;
                }, delay);
            }
        }

    </script>
</body>

</html>